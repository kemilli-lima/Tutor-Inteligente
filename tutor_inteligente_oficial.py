# -*- coding: utf-8 -*-
"""Tutor Inteligente - OFICIAL

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1VWXR2uD3ltnYX-ylQTj1DdPqNha1ET-8

# **Tutor Inteligente**
*Por Kemilli Nicole Lima e Ana LuÃ­za Ramos*

A ideia da nossa aplicaÃ§Ã£o Ã© auxiliar usuÃ¡rios, tendo como pÃºblico alvo os estudantes, a entenderem conteÃºdos que estÃ£o com alguma dificuldade ou limitaÃ§Ã£o. O usuÃ¡rio informa a dificuldade em questÃ£o e o sistema multi-agente irÃ¡ fornecer uma breve explicaÃ§Ã£o a respeito do tÃ³pico e, alÃ©m disso, propor links Ãºteis e exercÃ­cios que facilitem a compreensÃ£o do cliente, com o objetivo de ajudar o aprendizado.

Funcionamento da aplicaÃ§Ã£o: O sistema utiliza agentes colaborativos **(Crew AI)** que interagem e desempenham papÃ©is especÃ­ficos para atender ao usuÃ¡rio da melhor maneira.
- **Agente Tutor:** O primeiro agente Ã© responsÃ¡vel por identificar o tÃ³pico no qual o usuÃ¡rio estÃ¡ em dÃºvida e gerar uma explicaÃ§Ã£o breve a respeito dele utilizando uma linguagem acessÃ­vel.
- **Agente Monitor:** Esse agente busca materiais adicionais (livros, vÃ­deos, artigos e PDFs) relacionados ao tÃ³pico especÃ­fico e garante que o nÃ­vel esteja acessÃ­vel para o usuÃ¡rio.
- **Agente Instrutor:** O instrutor, por sua vez, vai propor ao usuÃ¡rio exercÃ­cios e perguntas sobre o assunto para que seja possÃ­vel praticar o conteÃºdo que os agentes tutores e monitores forneceram.
- **Agente Consultor:** O consultor, por sua vez, Ã© responsÃ¡vel por fornecer as respostas dos exercÃ­cios propostos pelo instrutor, para que o usuÃ¡rio possa checar se suas respostas estÃ£o corretas ou se sua linha de raciocÃ­nio estÃ¡ parcialmente correta.

## ImportaÃ§Ãµes e ConfiguraÃ§Ãµes necessÃ¡rias
"""

# InstalaÃ§Ã£o do Crew AI e das ferramentas que serÃ£o utilizadas ao longo da execuÃ§Ã£o
!pip install crewai crewai_tools openai
import os
import openai
from google.colab import userdata
from openai import OpenAI



os.environ["CREWAI_MODEL"] = "gpt-4-turbo"

# Importando o Agente, a Tarefa e a Equipe do Crew AI
from crewai import Agent, Task, Crew

"""## CÃ³digo"""

# CriaÃ§Ã£o do Agente Tutor, responsÃ¡vel por fornecer um breve resumo ao usuÃ¡rio, com o objetivo de ajudÃ¡-lo a entender sobre o conteÃºdo em questÃ£o
tutor = Agent(
    name = "tutor",
    role = "ResponsÃ¡vel por apresentar um breve resumo do tÃ³pico: {conteudo}",
    goal = "Entregar o resumo ao usuÃ¡rio para ajudÃ¡-lo a entender o {conteudo}",
    backstory = "Ã‰ um tutor qualificado sobre o {conteudo} "
    "Trabalha na criaÃ§Ã£o de resumo sobre o {conteudo} "
    "FarÃ¡ uma breve pesquisa de informaÃ§Ãµes na internet e coletÃ¡-las, agrupando-as em forma de resumo. "
    "FaÃ§a questÃ£o de explicar o assunto de forma simples para que o usuÃ¡rio entenda o assunto, de maneira dinÃ¢mica e didÃ¡tica. "
    "Deve tratar o usuÃ¡rio de forma calorosa e amigÃ¡vel "
    "NÃ£o faÃ§a suposiÃ§Ãµes sobre o assunto "
    "Resumo nÃ£o deve conter mais que 200 palavras ",
    tools = [],
    verbose = True
)

# CriaÃ§Ã£o do Agente Monitor, responsÃ¡vel por fornecer materiais complementares ao usuÃ¡rio, como links, artigos e vÃ­deos, com o objetivo de trazer mais informaÃ§Ãµes para facilitar o aprendizado do usuÃ¡rio
monitor = Agent(
    name = "monitor",
    role = "Encontrar materiais complementares que auxiliem no entendimento, como vÃ­deos e plataformas relevantes a respeito do contÃ©udo: {conteudo}",
    goal = "Fornecer materiais adicionais de qualidade a respeito do {conteudo} e direcionar ao usuÃ¡rio",
    tools = [],
    backstory = "Agente especializado em conseguir materiais sobre o {conteudo} "
    "VocÃª deve utilizar como base os dados fornecidos pelo tutor para encontrar os materiais a respeito do {conteudo} "
    "FaÃ§a questÃ£o que todos os materiais sÃ£o apenas sobre o {conteudo} "
    "Encontre os materiais que se adequam mais ao {conteudo} "
    "Materiais devem ser fornecidos ao usuÃ¡rio como links para pÃ¡ginas da internet "
    "Materiais devem ser vÃ­deos, pdfs, imagens, pÃ¡ginas da internet "
    "Deve ser agrupado em forma de lista. NÃ£o listar mais que 10 ",
    verbose = True
)

# CriaÃ§Ã£o do Agente Instrutor, responsÃ¡vel por criar 5 exercÃ­cios prÃ¡ticos personalizados baseados no conteÃºdo em questÃ£o, com o objetivo de fixar as informaÃ§Ãµes
instrutor = Agent(
    name = "Criador de ExercÃ­cios",
    role = "Gerar exercÃ­cios contextualizados personalizados baseados no tÃ³pico: {conteudo}",
    goal = "Oferecer perguntas e desafios ao usuÃ¡rio, de modo que seja possÃ­vel aprimorar suas habilidades e facilitar o aprendizado a respeito do {conteudo} em questÃ£o",
    tools = [],
    backstory = "O agente Ã© especializado no {conteudo} atravÃ©s do que foi coletado por tutor e monitor "
    "Analisar os dados coletados e criar exercÃ­cios simples para o usuÃ¡rio "
    "FaÃ§a questÃ£o de fornecer elementos simples mas que encapsulam bem o assunto "
    "NÃ£o faÃ§a suposiÃ§Ãµes sobre o assunto "
    "Deve criar em mÃ©dia 8 exercÃ­cios contextualizados sobre o assunto, aumentando gradativamente o nÃ­vel de dificuldade ",
    verbose = True
)

# CriaÃ§Ã£o do Agente Consultor, responsÃ¡vel por fornecer as respostas dos exercÃ­cios propostos pelo agente Instrutor, para que o usuÃ¡rio possa conferir sua linha de raciocÃ­nio
consultor = Agent(
    name = "Corretor de ExercÃ­cios",
    role = "Fornecer o gabarito dos excercÃ­cios feitos pelo agente Instrutor a respeito do conteÃºdo: {conteudo}",
    goal = "Responder de forma correta os exerÃ­cios propostos para que o usuÃ¡rio tenha uma forma de conferir se sua linha de raciocÃ­nio estÃ¡ correta ao respeito do tÃ³pico",
    tools = [],
    backstory = "O agente Ã© especializado no {conteudo} atravÃ©s do que foi coletado por tutor, monitor e exercÃ­cios propoostos pelo instrutor "
    "respondendo as perguntas de maneira correta para que o usuÃ¡rio possa ter uma referÃªncia do caminho a ser seguido ou, apenas, conferir seu gabarito "
    "Deve fornecer as respostas corretas de forma detalhada "
    "NÃ£o faÃ§a suposiÃ§Ãµes sobre o assunto",
    verbose = True
)

# CriaÃ§Ã£o da tarefa do agente Tutor, responsÃ¡vel por gerar o resumo do tÃ³pico para o usuÃ¡rio
resumir = Task(
    name = "Resumo explicativo a respeito do conteÃºdo: {conteudo}",
    description = "Buscar informaÃ§Ãµes a respeito do tÃ³pico {conteudo} e faz um breve resumo do conteÃºdo, priorizando os dados mais atuais "
    "e mais relevantes a respeito do conteÃºdo",
    agent = tutor,
    expected_output = "Deve entregar um resumo para o usuÃ¡rio com a seguinte estrutura: visÃ£o geral e exemplos Ãºteis de uso do {conteudo} "
    "de modo que seja didÃ¡tico e dinÃ¢mico, sem supor informaÃ§Ãµes sobre o {conteudo} "
    "Resumo nÃ£o deve conter mais que 200 palavras"
)

# CriaÃ§Ã£o da tarefa do agente Monitor, responsÃ¡vel por fornecer materiais complementares a respeito do conteÃºdo em questÃ£o
selecao_materiais = Task(
    name = "Buscar e fornecer para o usuÃ¡rio materiais de estudo relevantes sobre o {conteudo}",
    description = "Buscar materiais de suporte sobre o {conteudo} que facilitem o aprendizado do usuÃ¡rio, como vÃ­deos e plataformas relevantes a respeito do {conteudo} "
    "Encontrar os mateirias que se adequam mais ao {conteudo}, utilizando como base os dados obtidos pelo tutor",
    agent = monitor,
    expected_output = "Deve entregar uma representaÃ§Ã£o textual em formato de tÃ³picos para o usuÃ¡rio contendo os materiais mais relevantes, em formato de links para pÃ¡ginas de internet "
    "Listar, em mÃ©dia, 10 links, sendo eles: sites, vÃ­deos, artigos e imagens "
    "de modo que seja dinÃ¢mico, sem supor informaÃ§Ãµes sobre o {conteudo}"
)

# CriaÃ§Ã£o da tarefa do agente Instrutor, responsÃ¡vel por criar os exercÃ­cios
criar_exercicios = Task(
    name = "Criar exercÃ­cios para facilitar o entendimento do usuÃ¡rio a respeito do {conteudo}",
    description = "Gerar exercÃ­cios cont4xtualizados sobre o {conteudo}, de modo que seja possÃ­vel aprimorar as habilidades e facilitar o aprendizado "
    "FaÃ§a questÃ£o de fornecer elementos simples mas que encapsulam bem o assunto, e aumentar, gradativamente, o nÃ­vel de dificuldade dos exercÃ­cios "
    "Usar como base o resumo feito pelo tutor e os materiais selecionados pelo monitor",
    agent = instrutor,
    expected_output = "Deve entregar uma representaÃ§Ã£o textual em formato de uma lista de exercÃ­cios para o usuÃ¡rio sobre o {conteudo} "
    "Deve criar em mÃ©dia 8 exercÃ­cios contextualizados sobre o assunto, aumentando gradativamente o nÃ­vel de dificuldade ",
)

# CriaÃ§Ã£o da tarefa do agente Consultor, responsÃ¡vel por fornecer as respostas dos exercÃ­cios propostos
gabarito = Task(
    name = "Fornecer o gabarito dos exercÃ­cios propostos pelo agente Instrutor a respeito do contÃ©udo: {conteudo} ",
    description = "Responder de forma correta os exerÃ­cios propostos para que o usuÃ¡rio tenha uma forma de conferir se sua linha de raciocÃ­nio estÃ¡ correta ao respeito do tÃ³pico ou deseja "
    "apenas conferir as suas respostas"
    "Usar como base o resumo feito pelo tutor, os materiais selecionados pelo monitor para responder os exercÃ­cios feitos pelo instrutor",
    agent = consultor,
    expected_output = "Deve entregar uma representaÃ§Ã£o textual em formato de gabraito de uma lista de exercÃ­cios para o usuÃ¡rio sobre o {conteudo} "
    "Deve conter as respostas de forma detalhada para facilitar o entendimento do usuÃ¡rio"
    "Deve ser entregue apÃ³s um minuto apÃ³s o envio das perguntas"
)

# CriaÃ§Ã£o da equipe/sistema multiagente
equipe = Crew(
    agents = [tutor, monitor, instrutor, consultor],
    tasks = [resumir, selecao_materiais, criar_exercicios, gabarito],
)

# ExecuÃ§Ã£o
def menu():
  print("---------------------------------------------")
  print("ğŸ¤– Seja bem-vindo ao Tutor Inteligente! ğŸ¤–")
  print("---------------------------------------------")
  print("Como podemos lhe ajudar hoje?\n")
  conteudo = input("Qual o tÃ³pico que vocÃª tem dificuldade?\n\n -> ")
  entradas = {'conteudo': conteudo}

  print("\n----------------------------------------------")
  print(f"Processando sua dÃºvida sobre {conteudo}...")
  print("----------------------------------------------\n")

  saida = equipe.kickoff(inputs=entradas)
  resultado = saida.tasks_output
  for r in resultado:
    print(r)

  print("\nObrigada por utilizar o Tutor Inteligente! ğŸ¤–")

menu()

menu()

menu()

menu()

